{"version":3,"sources":["../src/index.js"],"names":[],"mappings":";;;;;kBAUwB,OAAO;;;;;;;;;;;;;;AAN/B,SAAS,KAAK,CAAC,MAAM,EAAE;AACrB,MAAM,WAAW,GAAG,aAA2C,CAAC;AAChE,MAAM,WAAW,GAAG,IAAI,MAAM,CAAC,WAAW,CAAC,CAAC;AAC5C,SAAO,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;CACjC;;AAEc,SAAS,OAAO,CAAC,cAAc,EAAgB;MAAd,OAAO,yDAAG,EAAE;;AAC1D,MAAM,SAAS,GAAG,sBAAO,cAAc,EAAE,OAAO,CAAC,CAAC;AAClD,MAAM,CAAC,GAAG,kBAAQ,IAAI,CAAC,SAAS,CAAC,CAAC;AAClC,MAAM,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;AACrB,OAAK,CAAC,MAAM,CAAC,UAAC,KAAK,EAAE,IAAI,EAAK;;AAE5B,WAAO,IAAI,CAAC,IAAI,KAAK,KAAK,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,MAAM,IAAI,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;GAChG,CAAC,CAAC,IAAI,CAAC,UAAC,KAAK,EAAE,IAAI,EAAK;;AAEvB,QAAI,IAAI,CAAC,IAAI,KAAK,IAAI,IAAI,IAAI,CAAC,IAAI,KAAK,IAAI,EAAE;AAC5C,6BAAQ,IAAI,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;KAC3C,MAAM;AACL,6BAAQ,IAAI,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;KAClC;GACF,CAAC,CAAC;AACH,SAAO,cAvBA,eAAe,CAuBF,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;CACtC","file":"index.js","sourcesContent":["import marked from 'marked';\nimport cheerio from 'cheerio';\nimport { AllHtmlEntities as HtmlEntities } from 'html-entities';\n\nfunction isRTL(string) {\n  const regexString = '[\\u0591-\\u07FF\\uFB1D-\\uFDFD\\uFE70-\\uFEFC]';\n  const rtlDirCheck = new RegExp(regexString);\n  return rtlDirCheck.test(string);\n}\n\nexport default function convert(markdownString, options = {}) {\n  const ltrMarkup = marked(markdownString, options);\n  const $ = cheerio.load(ltrMarkup);\n  const elems = $('*');\n  elems.filter((index, elem) => {\n    // Filter RTL containers with text content\n    return elem.type === 'tag' && elem.children[0].type === 'text' && isRTL(elem.children[0].data);\n  }).each((index, elem) => {\n    // If there is no siblings, go for the parents\n    if (elem.next === null && elem.prev === null) {\n      cheerio(elem).parent().attr('dir', 'rtl');\n    } else {\n      cheerio(elem).attr('dir', 'rtl');\n    }\n  });\n  return HtmlEntities.decode($.html());\n}\n"]}